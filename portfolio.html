<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Портфоліо - Nail Studio by Alina Pitsyna</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@700&family=Raleway:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="images/logo.png" type="image/png">
</head>
<body>

    <header>
        <nav>
            <div class="nav-links nav-left">
                <ul>
                    <li><a href="index.html#about">Про нас</a></li>
                    <li><a href="index.html#services">Послуги</a></li>
                </ul>
            </div>
            <div class="logo-center">
                <a href="index.html">AP</a>
            </div>
            <div class="nav-links nav-right">
                <ul>
                    <li><a href="portfolio.html">Портфоліо</a></li>
                    <li><a href="index.html#contact">Контакти</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <section id="full-portfolio">
            <h2>Наші роботи</h2>
            <div class="portfolio-grid">
                <div class="img-wrapper"><img src="images/l1 (1).jpg" alt="Приклад роботи 1"></div>
                <div class="img-wrapper"><video src="images/l1 (1).mp4" muted loop playsinline alt="Приклад роботи 2"></video></div>
                <div class="img-wrapper"><img src="images/l1 (2).jpg" alt="Приклад роботи 3"></div>
                <div class="img-wrapper"><video src="images/l1 (2).mp4" muted loop playsinline alt="Приклад роботи 4"></video></div>
                <div class="img-wrapper"><img src="images/l1 (3).jpg" alt="Приклад роботи 5"></div>
                <div class="img-wrapper"><video src="images/l1 (3).mp4" muted loop playsinline alt="Приклад роботи 6"></video></div>
                <div class="img-wrapper"><img src="images/l1 (4).jpg" alt="Приклад роботи 7"></div>
                <div class="img-wrapper"><video src="images/l1 (4).mp4" muted loop playsinline alt="Приклад роботи 8"></video></div>
                <div class="img-wrapper"><video src="images/l1 (5).mp4" muted loop playsinline alt="Приклад роботи 9"></video></div>
            </div>
        </section>
    </main>

    <!-- Початок структури модального вікна -->
    <div id="lightbox-modal" class="modal">
        <span class="close-cursor">&times;</span>
        <div class="modal-content">
            <a class="prev">&#10094;</a>
            <!-- Універсальний контейнер для медіа -->
            <div id="media-container"></div>
            <a class="next">&#10095;</a>
        </div>
    </div>
    <!-- Кінець структури модального вікна -->

    <footer>
        <p>&copy; 2025 Nail Studio by Alina Pitsyna. Всі права захищено.</p>
    </footer>

    <script>
        // Анімація появи секцій при прокрутці
        const sections = document.querySelectorAll('section');
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        sections.forEach(section => {
            observer.observe(section);
        });

        /* --- Логіка відтворення відео при наведенні --- */
        const portfolioVideos = document.querySelectorAll('.portfolio-grid video');
        portfolioVideos.forEach(video => {
            video.parentElement.addEventListener('mouseenter', () => {
                video.play();
            });
            video.parentElement.addEventListener('mouseleave', () => {
                video.pause();
                video.currentTime = 0; // Повертає відео на початок
            });
        });

        /* --- Логіка лайтбоксу (для фото та відео) --- */
        const modal = document.getElementById('lightbox-modal');
        const mediaContainer = document.getElementById('media-container');
        const portfolioItems = document.querySelectorAll('.portfolio-grid .img-wrapper > *');
        const closeBtn = document.querySelector('.close-cursor');
        const prevBtn = document.querySelector('.prev');
        const nextBtn = document.querySelector('.next');

        let currentIndex;
        const mediaSources = Array.from(portfolioItems).map(item => {
            return {
                src: item.src,
                type: item.tagName.toLowerCase()
            };
        });

        function showMedia(index) {
            mediaContainer.innerHTML = '';
            const currentMedia = mediaSources[index];

            if (currentMedia.type === 'img') {
                const img = document.createElement('img');
                img.src = currentMedia.src;
                mediaContainer.appendChild(img);
            } else if (currentMedia.type === 'video') {
                const video = document.createElement('video');
                video.src = currentMedia.src;
                video.controls = true;
                video.autoplay = true;
                video.loop = true;
                mediaContainer.appendChild(video);
            }
        }

        function openModal(index) {
            modal.style.display = 'block';
            currentIndex = index;
            showMedia(currentIndex);
        }

        function closeModal() {
            modal.style.display = 'none';
            mediaContainer.innerHTML = '';
        }

        function showNext() {
            currentIndex = (currentIndex + 1) % mediaSources.length;
            showMedia(currentIndex);
        }

        function showPrev() {
            currentIndex = (currentIndex - 1 + mediaSources.length) % mediaSources.length;
            showMedia(currentIndex);
        }

        portfolioItems.forEach((item, index) => {
            item.parentElement.addEventListener('click', (e) => {
                e.preventDefault();
                openModal(index);
            });
        });

        closeBtn.addEventListener('click', closeModal);
        prevBtn.addEventListener('click', showPrev);
        nextBtn.addEventListener('click', showNext);

        window.addEventListener('click', (event) => {
            if (event.target == modal) {
                closeModal();
            }
        });

        document.addEventListener('keydown', (event) => {
            if (modal.style.display === 'block') {
                if (event.key === 'ArrowRight') showNext();
                else if (event.key === 'ArrowLeft') showPrev();
                else if (event.key === 'Escape') closeModal();
            }
        });
    </script>

</body>
</html>
